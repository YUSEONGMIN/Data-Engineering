### [전체 목차](../../README.md)
### [이전 페이지](../README.md)

# 13 일차

데이터 집계

## 목차

- [정렬](#정렬)
- [기술통계 메소드](#기술통계-메소드)
- [aggregate](#aggregate)
- [Groupby](#groupby)



## [정렬](#목차)
- index 이름, column 이름을 기준으로 정렬
- `sort_index(axis=0, ascending=True, inplace=False)`

- 특정 컬럼(열)의 값을 기준으로 정렬
- `sort_values(by, ascending, inplace)`

## [기술통계 메소드](#목차)

|함수|설명|
|-|-|
|**sum()**|합계|
|**mean()**|평균|
|**median()**|중위수|
|**mode()**|최빈값|
|**quantile()**|분위수|
|**std()**|표준편차|
|**var()**|분산|
|**count()**|결측치를 제외한 원소 개수|
|**min()**|최소값|
|**max()**|최대값|
|**idxmax()**|최대값 index|
|**idxmin()**|최소값 index|
|**unique()**|고유값|
|**nunique()**|고유값의 개수|

- value_counts()는 Series에만 사용할 수 있다.
- **컬럼별로 계산한다.**
- sum(), mode(), max(), min(), unique(), nunique(), count()는 **문자열에 적용가능하다.**
- idxmax(), idxmin()는 문자열 컬럼에 사용할 수 없다.
- **공통 매개변수**
    - skipna=True(기본값)
        - 결측치(NA)를 포함해서 계산할지 여부 설정.
    - axis
        - DataFrame에 적용할 때 계산방향을 설정

## [aggregate](#목차)
- `aggregate(func, axis=0, \*args, \*\*kwargs)`

- **집계결과를 다양한 형태로 묶어서 볼 때** 사용한다.
    - **사용자 정의 집계메소드를 사용할 때도 편리하다.**
- **매개변수**
    - func 
        - 집계 함수 지정
            - 함수명/함수리스트 (문자열)
            - Dictionary : {'집계할컬럼' : 집계함수, ... }
    - axis
    - \*args, \*\*kwargs 
        - 집계함수는 첫번째 매개변수로 Series를 받는다. 그 이외의 매개변수가 있는 경우.

```py
# 도착지연시간 -> 최소, 최대
df['ARR_DELAY'].aggregate(["min", "max"]) # 문자열로 이름만 전달
```
```
min     -60.0
max    1185.0
Name: ARR_DELAY, dtype: float64
```
```py
# 컬럼별로 다른 집계
func = {
    "DEP_DELAY":"mean",
    "AIR_TIME":["min","max"],
    "AIRLINE":"mode"
}
# key: 컬럼명, value: 통계량 구하는 메소드
df.agg(func)
```
```
      DEP_DELAY AIR_TIME AIRLINE
      DEP_DELAY AIR_TIME    mode
mean  10.921192      NaN     NaN
min         NaN      8.0     NaN
max         NaN    577.0     NaN
0           NaN      NaN      DL
```
```py
# 사용자 정의 집계함수 적용
def min_max_diff(column):
    return column.max() - column.min()

df[['AIR_TIME','DEP_DELAY']].agg(min_max_diff)    
```
```
AIR_TIME      569.0
DEP_DELAY    1218.0
dtype: float64
```

## [Groupby](#목차)
- 특정 열을 기준으로 같은 값을 가지는 행끼리 묶어서 group화 한다.
    - Group으로 묶을 기준 열은 범주형 타입(category)을 사용한다.
- **구문**
    - `DF.groupby('그룹으로 묶을 기준 컬럼')`  
        - `DataFrameGroupby객체['집계할 컬럼'].집계함수()`












### [목차로 돌아가기](#목차)
## [이전 페이지](../README.md)

